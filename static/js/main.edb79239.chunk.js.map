{"version":3,"sources":["assets/glasses.jpg","assets/measure.jpg","assets/paper.jpg","components/OverviewPage/index.js","util/axios.js","components/ResultsPage/index.js","components/MeasurePage/index.js","components/SiteLayout/index.js","components/App/index.js","index.js"],"names":["OverviewPage","props","type","style","width","height","position","bottom","right","zIndex","fontSize","to","className","align","span","src","Glasses","alt","Measure","Paper","postMeasure","formData","setNoseBridgeWidth","setTempleWidth","a","axios","post","headers","then","res","console","log","data","measurements","catch","error","ResultsPage","maxWidth","margin","marginBottom","marginTop","title","value","templeWidth","suffix","noseBridgeWidth","Dragger","Upload","MeasurePage","useState","FileImageOutlined","uploadIcon","setUploadIcon","uploadProps","name","multiple","accept","onChange","info","status","file","fileList","SyncOutlined","spin","message","success","customRequest","requestProps","FormData","imageFile","append","onSuccess","isModalVisible","setIsModalVisible","onClick","visible","onOk","onCancel","Header","Layout","Content","SiteLayout","EyeOutlined","theme","mode","Item","children","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.edb79239.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/glasses.74c74b1c.jpg\";","export default __webpack_public_path__ + \"static/media/measure.89a77160.jpg\";","export default __webpack_public_path__ + \"static/media/paper.ae0ddd8e.jpg\";","import { Fragment } from 'react';\r\nimport { Row, Col, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport Glasses from '../../assets/glasses.jpg';\r\nimport Measure from '../../assets/measure.jpg';\r\nimport Paper from '../../assets/paper.jpg';\r\nimport './styles.css';\r\n\r\nexport default function OverviewPage(props) {\r\n  return (\r\n    <Fragment>\r\n      <Button type=\"primary\" style={{\r\n        width: '300px',\r\n        height: '75px',\r\n        position: 'fixed',\r\n        bottom: '15px',\r\n        right: '15px',\r\n        zIndex: '10000',\r\n        fontSize: '30px'\r\n      }}>\r\n        <Link to=\"/measure\">\r\n          Get Started!\r\n        </Link>\r\n      </Button>\r\n\r\n      <Row className=\"w-100\" align=\"middle\">\r\n        <Col span={16}>\r\n          <img src={Glasses} className=\"w-100\" alt=\"A pair of glasses.\"/>\r\n        </Col>\r\n        <Col span={8} className=\"padding-for-text\">\r\n          <h2>\r\n            Opticus Cares\r\n          </h2>\r\n          <p>Glasses: 75% of people need them, but how many own a comfortable pair? The pain felt from a long day of glasses wearing is one all too familiar. That's where Opticus comes in; our well-honed software needs only a piece of paper &#8212; along with your beautiful face &#8212; to determine the perfect fit for your glasses! </p>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"w-100\" align=\"middle\">\r\n        <Col span={8} className=\"padding-for-text\">\r\n          <h2>\r\n            The Math\r\n          </h2>\r\n          <p>With just the picture you submit, Opticus is able to determine your nose bridge width and temple-to-temple length, and uses them to calculate your lens width and arm length, along with all the other measurements needed to get you your best fitting pair of glasses yet!</p>\r\n        </Col>\r\n        <Col span={16}>\r\n          <img src={Measure} className=\"w-100\" alt=\"Drafting instruments on a table.\"/>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"w-100\" align=\"middle\">\r\n        <Col span={16}>\r\n          <img src={Paper} className=\"w-100\" alt=\"Pieces of paper.\"/>\r\n        </Col>\r\n        <Col span={8} className=\"padding-for-text\">\r\n          <h2>\r\n            Paper Details\r\n          </h2>\r\n          <p>Opticus likes to work with the best, so to do its magic it requires standard A4 (8.5 x 11in) paper; the most venerated of papers. When taking your picture make sure to follow the instructions to get the most accurate results possible!</p>\r\n        </Col>\r\n\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n}","import axios from 'axios';\r\n\r\nconst postMeasure = async (formData, setNoseBridgeWidth, setTempleWidth) => {\r\n  axios.post('https://opticus-306823.ue.r.appspot.com/measure', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  }).then((res) => {\r\n    console.log(res);\r\n    setTempleWidth(res.data.measurements[0]);\r\n    setNoseBridgeWidth(res.data.measurements[1]);\r\n  }).catch((error) => {\r\n    console.log(error);\r\n  });\r\n}\r\n\r\nexport default postMeasure;\r\n","import { Statistic, Row, Col } from 'antd';\r\n\r\nexport default function ResultsPage(props) {\r\n  const getLensWidth = () => {\r\n    return (props.templeWidth - props.noseBridgeWidth) / 2;\r\n  }\r\n\r\n  const getArmLength = () => {\r\n    return 140;\r\n  }\r\n\r\n  return (\r\n    <div style={{width: '100%', maxWidth: '70%', margin: 'auto', fontSize: '20px', marginBottom: '50px'}}>\r\n      <h2 style={{marginTop: '50px'}}>\r\n        Your face\r\n      </h2>\r\n\r\n      <Row align=\"middle\">\r\n        <Col span={12}>\r\n          <Statistic title=\"Temple Width\" value={props.templeWidth} suffix=\"mm\" />\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Statistic title=\"Nose Bridge Width\" value={props.noseBridgeWidth} suffix=\"mm\" />\r\n        </Col>\r\n      </Row>\r\n\r\n      <h2 style={{marginTop: '50px'}}>\r\n        Your computed glasses measurements\r\n      </h2>\r\n\r\n      <Row align=\"middle\">\r\n        <Col span={8}>\r\n          <Statistic title=\"Glasses Width\" value={props.templeWidth} suffix=\"mm\" />\r\n        </Col>\r\n\r\n        <Col span={8}>\r\n          <Statistic title=\"Lens Width\" value={getLensWidth()} suffix=\"mm\" />\r\n        </Col>\r\n\r\n        <Col span={8}>\r\n          <Statistic title=\"Arm Length\" value={getArmLength()} suffix=\"mm\" />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import { Upload, message, Button, Modal } from 'antd';\r\nimport { FileImageOutlined, SyncOutlined } from '@ant-design/icons';\r\nimport { useState, Fragment } from 'react';\r\nimport postMeasure from '../../util/axios';\r\nimport ResultsPage from '../ResultsPage';\r\n\r\nconst { Dragger } = Upload;\r\n\r\nexport default function MeasurePage(props) {\r\n  const [uploadIcon, setUploadIcon] = useState(<FileImageOutlined />)\r\n  const [templeWidth, setTempleWidth] = useState(null);\r\n  const [noseBridgeWidth, setNoseBridgeWidth] = useState(null);\r\n\r\n  const uploadProps = {\r\n    name: 'file',\r\n    multiple: false,\r\n    accept: 'image/png, image/jpeg, image/jpg',\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n      if (status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n        setUploadIcon(<SyncOutlined spin />);\r\n      }\r\n      if (status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully.`);\r\n        setUploadIcon(<FileImageOutlined />);\r\n      } else if (status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n        setUploadIcon(<FileImageOutlined />);\r\n      }\r\n    },\r\n    customRequest: async (requestProps) => {\r\n      const formData = new FormData();\r\n      const imageFile = requestProps.file;\r\n      formData.append(\"file\", imageFile);\r\n      await postMeasure(formData, setNoseBridgeWidth, setTempleWidth);\r\n      requestProps.onSuccess();\r\n    },\r\n  };\r\n\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    (templeWidth && noseBridgeWidth) ? (\r\n      <ResultsPage\r\n        templeWidth={templeWidth}\r\n        noseBridgeWidth={noseBridgeWidth}\r\n      />\r\n    ) : (\r\n      <Fragment>\r\n        <div style={{width: '100%', maxWidth: '70%', margin: 'auto', fontSize: '30px', marginBottom: '50px'}}>\r\n          <h1>\r\n            Get your measurements\r\n          </h1>\r\n          <Button type=\"primary\" onClick={showModal}>\r\n            Image Instructions\r\n          </Button>\r\n          <Modal title=\"How to get accurate results\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n            <p>In order to get the best results use a standard, white A4 piece of printer paper.</p>\r\n            <p>When taking the picture try to have good front lighting, make sure the paper and your head are fully in the shot.</p>\r\n            <p>Try to cover the least amount of the piece of paper with your hand, and have your background sufficiently contrast the white of the paper.</p>\r\n            <p>Finally, try to hold the piece of paper perfectly vertical, and the same distance from the camera as your face.</p>\r\n          </Modal>\r\n        </div>\r\n\r\n        <div style={{width: '100%', maxWidth: '50%', margin: 'auto'}}>\r\n          <Dragger {...uploadProps}>\r\n            <p className=\"ant-upload-drag-icon\">\r\n              {uploadIcon}\r\n            </p>\r\n            <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n            <p className=\"ant-upload-hint\">\r\n              Upload a single file of your face and an A4 sized piece of paper.\r\n            </p>\r\n          </Dragger>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  );\r\n}\r\n","import { Layout, Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { EyeOutlined } from '@ant-design/icons';\r\nimport './styles.css';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nexport default function SiteLayout(props) {\r\n  return (\r\n    <Layout className=\"w-100\">\r\n      <Header>\r\n        <div className=\"logo\" >\r\n          <EyeOutlined spin />\r\n          {'     '}\r\n          Opticus\r\n        </div>\r\n        <Menu theme=\"dark\" mode=\"horizontal\">\r\n          <Menu.Item key=\"1\">\r\n            <Link to=\"/\">\r\n              Overview\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"2\">\r\n            <Link to=\"/measure\">\r\n              Measure\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Header>\r\n      <Content className=\"w-100 mh-100\">\r\n        {props.children}\r\n      </Content>\r\n    </Layout>\r\n  );\r\n}","import {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from 'react-router-dom';\r\n\r\nimport OverviewPage from '../OverviewPage';\r\nimport MeasurePage from '../MeasurePage';\r\nimport SiteLayout from '../SiteLayout';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <SiteLayout>\r\n        <Switch>\r\n          <Route path=\"/measure\">\r\n            <MeasurePage />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <OverviewPage />\r\n          </Route>\r\n        </Switch>\r\n      </SiteLayout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}